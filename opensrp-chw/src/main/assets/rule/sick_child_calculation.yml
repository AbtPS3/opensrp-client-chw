---
name: step4_fast_breathing_final
description: Fast breathing final calculation
priority: 1
condition: "step3_main_symptoms.contains('difficult_breathing')"
actions:
  - 'calculation = (step4_fast_breathing2 != null ? step4_fast_breathing2 : step4_fast_breathing)'
---
name: step4_chest_indrawing
description: Chest Indrawing calculation
priority: 1
condition: "step3_main_symptoms.contains('difficult_breathing')"
actions:
  - 'calculation = ((step4_indrawing_bronchodilator.contains("no") || (step4_indrawing_bronchodilator.isEmpty() && step4_breathing_symptoms.contains("chest_indrawing"))) ? 1 : 0)'
---
name: step4_severe_pneumonia
description: Severe pneumonia calculation
priority: 1
condition: "step4_difficult_breathing.contains('yes')"
actions:
  - 'calculation = ((!step2_danger_signs.contains("None") || step4_breathing_symptoms.contains("stridor"))? 1 : 0)'
---
name: step4_pneumonia
description: pneumonia calculation
priority: 1
condition: "step4_difficult_breathing.contains('yes')"
actions:
  - 'calculation = ((step4_fast_breathing_final == 1 || step4_chest_indrawing == 1)? 1 : 0)'
---
name: step4_cough_cold
description: Cough cold calculation
priority: 1
condition: "step4_difficult_breathing.contains('yes')"
actions:
  - 'calculation = ((step4_severe_pneumonia == 0 && step4_pneumonia == 0)? 1 : 0)'
---
name: step5_lethargic_unconcious_calc
description: Lethargic unconcious calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = ((step5_gen_condition.contains("lethargic_unconcious"))? 1 : 0)'
---
name: step5_sunken_eyes_calc
description: Sunken eyes calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = ((step5_sunken_eyes.contains("yes"))? 1 : 0)'
---
name: step5_not_able_drink
description: Not able to drink calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = ((step5_sunken_eyes.contains("drinking_poorly"))? 1 : 0)'
---
name: step5_drinks
description: Drinks calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = ((step5_sunken_eyes.contains("drinking_eargerly"))? 1 : 0)'
---
name: step5_pinched_skin_slowly
description: Pinched skin calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = ((step5_pinching.contains("skin_very_slowly"))? 1 : 0)'
---
name: step5_restless_irritable_calc
description: Restless irritable calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = ((step5_gen_condition.contains("restless_irritable"))? 1 : 0)'
---
name: step5_sev_dehydration_class
description: Severe dehydration class calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = (step5_lethargic_unconcious_calc + step5_sunken_eyes_calc + step5_not_able_drink + step5_not_able_drink + step5_pinched_skin_slowly)'
---
name: step5_sev_dehydration
description: Severe dehydration calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = ((step5_sev_dehydration_class > 2)? 1 : 0)'
---
name: step5_some_dehydration_class
description: Some dehydration class calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = (step5_restless_irritable_calc + step5_sunken_eyes_calc + step5_drinks + step5_pinched_skin_slowly)'
---
name: step5_some_dehydration
description: Some dehydration calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = ((step5_some_dehydration_class > 2)? 1 : 0)'
---
name: step5_no_dehydration
description: No dehydration calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = ((step5_sev_dehydration == 0 && step5_some_dehydration == 0)? 1 : 0)'
---
name: step5_sev_persistent_diarrhoea
description: Severe persistent diarrhoea calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = (((step5_sev_dehydration == 1 || step5_some_dehydration == 1) && step5_diarrhoea_period > 14)? 1 : 0)'
---
name: step5_persistent_diarrhoea
description: Persistent diarrhoea calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = ((step5_no_dehydration == 1 && step5_diarrhoea_period > 14)? 1 : 0)'
---
name: step5_dysentery
description: Dysentry calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = (step5_blood_stool.contains("yes")? 1 : 0)'
---
name: step5_sev_dehydratn_treat1_calc
description: Severe dehydration treatment calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = ((step5_sev_dehydration == 1 && (step4_severe_pneumonia == 0 || step2_danger_signs.contains("None")))? 1 : 0)'
---
name: step5_sev_dehydratn_treat2_calc
description: Severe dehydration treatment 2 calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = ((step5_sev_dehydration == 1 && (step4_severe_pneumonia == 1 || step2_danger_signs.contains("None")))? 1 : 0)'
---
name: step5_sev_dehydratn_treat3_calc
description: Severe dehydration treatment 3 calculation
priority: 1
condition: "step5_diarrhoea.contains('yes')"
actions:
  - 'calculation = ((step5_sev_dehydration == 1 && step1_age >= 2 && step5_cholera_present.contains("yes"))? 1 : 0)'
---
name: step6_malaria_test
description: Malaria test calculation
priority: 1
condition: "step6_fever.contains('yes')"
actions:
  - 'calculation = (((step2_danger_signs.contains("None") && step4_severe_pneumonia == 0 && step5_sev_dehydration == 0 && step5_sev_persistent_diarrhoea == 0 && step6_fever.contains("yes") && step6_malaria_risk.contains("high") && step6_travel_malaria_area.contains("yes")) || (step6_fever_causes.contains("none_fever_cause") && step6_malaria_risk.contains("low") && step6_travel_malaria_area.contains("no")))? 1 : 0)'
---
name: step6_vsf_disease
description: Dysentry calculation
priority: 1
condition: "step6_fever.contains('yes')"
actions:
  - 'calculation = (((step2_danger_signs.contains("None") || step6_fever_causes.contains("stiff_neck")) && step6_malaria_risk.contains("no_risk"))? 1 : 0)'
---
name: step6_no_test_malaria
description: Malaria diagnosis when test is not available calculation
priority: 1
condition: "step6_fever.contains('yes')"
actions:
  - 'calculation = ((step2_danger_signs.contains("None") && step4_severe_pneumonia == 0 && step5_sev_dehydration == 0 && step5_sev_persistent_diarrhoea == 0 && (step6_malaria_risk.contains("high") && step6_travel_malaria_area.contains("yes") || (step6_fever_causes.contains("none_fever_cause") && step6_malaria_risk.contains("low") && step6_travel_malaria_area.contains("no"))))? 1 : 0)'
---
name: step6_malaria
description: Calculated field for malaria diagnosis after a test is done.
priority: 1
condition: "step6_fever.contains('yes')"
actions:
  - 'calculation = (step6_malaria_results.contains("mal_pos") && !step6_malaria_risk.contains("no_risk")? 1 : 0)'
---
name: step6_no_malaria
description: Calculated field for no malaria fever disease diagnosis
priority: 1
condition: "step6_fever.contains('yes')"
actions:
  - 'calculation = ((step6_malaria_results.contains("mal_neg") && !step6_fever_causes.contains("none_fever_cause") && step6_malaria_risk.contains("no_risk"))? 1 : 0)'
---
name: step6_vsf_disease2
description: Calculated field for very sever febrile disease 2 diagnosis
priority: 1
condition: "step6_fever.contains('yes')"
actions:
  - 'calculation = ((!step2_danger_signs.contains("None") && step6_fever_causes.contains("stiff_neck") && step6_malaria_risk.contains("no_risk") && step6_travel_malaria_area.contains("no"))? 1 : 0)'
---
name: step6_illness_fever
description: Calculated field for fever diagnosis
priority: 1
condition: "step6_fever.contains('yes')"
actions:
  - 'calculation = ((!step2_danger_signs.contains("None") && !step6_fever_causes.contains("stiff_neck") && step6_malaria_risk.contains("no_risk") && step6_travel_malaria_area.contains("no"))? 1 : 0)'
---
name: step6_complicated_measles
description: Complicated measles calculation
priority: 1
condition: "step6_fever.contains('yes')"
actions:
  - 'calculation = ((!step2_danger_signs.contains("None") || !step6_add_measles_symptoms.contains("pus_eye") || !step6_add_measles_symptoms.contains("none") && (step6_measles.contains("measles_3_months") || step6_measles.contains("measles_now")))? 1 : 0)'
---
name: step6_measles_eye_mouth
description: Calculated field for measles with eyes and mouth compications
priority: 1
condition: "step6_fever.contains('yes')"
actions:
  - 'calculation = ((!step6_add_measles_symptoms.contains("clouding_cornea") || !step6_add_measles_symptoms.contains("none") && (step6_measles.contains("measles_3_months") || step6_measles.contains("measles_now")))? 1 : 0)'
---
name: step6_illness_measles
description: Calculated field for when the child has measles
priority: 1
condition: "step6_fever.contains('yes')"
actions:
  - 'calculation = ((step6_measles.contains("measles_3_months") || step6_measles.contains("measles_now"))? 1 : 0)'
---
name: step7_mastoiditis_infection
description: Calculated field for when child suffering from Mastoiditis
priority: 1
condition: "step7_ear_problem.contains('yes')"
actions:
  - 'calculation = (step7_tender_swelling.contains("yes")? 1 : 0)'
---
name: step7_acute_ear_infection
description: Calculated field for when child suffering from an acute ear infection
priority: 1
condition: "step7_ear_problem.contains('yes')"
actions:
  - 'calculation = ((step7_pus.contains("yes") && step7_ear_discharge_time < 14 || step7_ear_pain.contains("yes"))? 1 : 0)'
---
name: step7_chronic_ear_infection
description: Calculated field for when child suffering from a chronic ear infection
priority: 1
condition: "step7_ear_problem.contains('yes')"
actions:
  - 'calculation = ((step7_pus.contains("yes") && step7_ear_discharge_time >= 14)? 1 : 0)'
---
name: step7_no_ear_infection
description: Calculated field for when the child does not have any ear infection
priority: 1
condition: "step7_ear_problem.contains('yes')"
actions:
  - 'calculation = ((step7_pus.contains("no") && step7_ear_pain.contains("no"))? 1 : 0)'
---
name: step8_medical_complications
description: Claculated field for when there are medical complications
priority: 1
condition: "true"
actions:
  - 'calculation = ((!step2_danger_signs.contains("None") || step4_severe_pneumonia == 1 || step4_pneumonia == 1 ||
  step5_sev_persistent_diarrhoea == 1 || step6_vsf_disease == 1 || step6_vsf_disease2 == 1 || step6_complicated_measles == 1 || step7_mastoiditis_infection == 1)? 1 : 0)'
---

